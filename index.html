
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ethio Grow</title>
        <style>
        :root {
            --primary: #4e73df;
            --secondary: #858796;
            --success: #1cc88a;
            --info: #36b9cc;
            --warning: #f6c23e;
            --danger: #e74a3b;
            --dark: #5a5c69;
            --light: #f8f9fc;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f8f9fc;
            color: #333;
        }
        
        .container {
            display: flex;
            min-height: 100vh;
        }
        
        /* Sidebar */
        .sidebar {
            width: 250px;
            background: linear-gradient(180deg, var(--primary) 0%, #224abe 100%);
            color: white;
            padding: 20px 0;
            transition: all 0.3s;
            position: fixed;
            height: 100vh;
            z-index: 100;
        }
        
        .sidebar.hidden {
            margin-left: -250px;
        }
        
        .sidebar-header {
            padding: 0 20px 20px;
            text-align: center;
        }
        
        .sidebar-header h3 {
            color: white;
            font-weight: 700;
        }
        
        .sidebar-menu {
            list-style: none;
        }
        
        .sidebar-menu li {
            padding: 10px 20px;
            border-left: 3px solid transparent;
            transition: all 0.3s;
        }
        
        .sidebar-menu li:hover {
            background-color: rgba(255, 255, 255, 0.1);
            border-left: 3px solid white;
        }
        
        .sidebar-menu li.active {
            background-color: rgba(255, 255, 255, 0.2);
            border-left: 3px solid white;
        }
        
        .sidebar-menu a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            display: flex;
            align-items: center;
        }
        
        .sidebar-menu a:hover {
            color: white;
        }
        
        .sidebar-menu i {
            margin-right: 10px;
            font-size: 1.1rem;
        }
        
        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: 250px;
            transition: all 0.3s;
        }
        
        .main-content.expanded {
            margin-left: 0;
        }
        
        /* Navbar */
        .navbar {
            background-color: white;
            box-shadow: 0 0.15rem 1.75rem 0 rgba(58, 59, 69, 0.15);
            padding: 1rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .navbar-left {
            display: flex;
            align-items: center;
        }
        
        .toggle-sidebar {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--secondary);
            cursor: pointer;
            margin-right: 1rem;
        }
        
        .navbar-right {
            display: flex;
            align-items: center;
        }
        
        .user-menu {
            position: relative;
        }
        
        .user-btn {
            background: none;
            border: none;
            display: flex;
            align-items: center;
            cursor: pointer;
            color: var(--dark);
        }
        
        .user-btn img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 10px;
        }
        
        .dropdown-menu {
            position: absolute;
            right: 0;
            top: 50px;
            background-color: white;
            box-shadow: 0 0.15rem 1.75rem 0 rgba(58, 59, 69, 0.15);
            border-radius: 0.35rem;
            padding: 0.5rem 0;
            min-width: 200px;
            display: none;
            z-index: 1000;
        }
        
        .dropdown-menu.show {
            display: block;
        }
        
        .dropdown-item {
            padding: 0.5rem 1.5rem;
            color: var(--dark);
            text-decoration: none;
            display: block;
        }
        
        .dropdown-item:hover {
            background-color: #f8f9fc;
        }
        
        /* Content */
        .content {
            padding: 1.5rem;
        }
        
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .page-title h1 {
            font-size: 1.75rem;
            color: var(--dark);
            font-weight: 600;
        }
        
        .breadcrumb {
            display: flex;
            list-style: none;
        }
        
        .breadcrumb-item {
            color: var(--secondary);
        }
        
        .breadcrumb-item.active {
            color: var(--primary);
            font-weight: 600;
        }
        
        .breadcrumb-item + .breadcrumb-item::before {
            content: "/";
            padding: 0 0.5rem;
        }
        
        /* Cards */
        .card {
            background-color: white;
            border-radius: 0.35rem;
            box-shadow: 0 0.15rem 1.75rem 0 rgba(58, 59, 69, 0.1);
            margin-bottom: 1.5rem;
        }
        
        .card-header {
            padding: 1rem 1.5rem;
            background-color: #f8f9fc;
            border-bottom: 1px solid #e3e6f0;
            border-radius: 0.35rem 0.35rem 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .card-header h6 {
            font-weight: 700;
            color: var(--dark);
            margin: 0;
        }
        
        .card-body {
            padding: 1.5rem;
        }
        
        /* Stats Cards */
        .stats-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .stats-card {
            background-color: white;
            border-radius: 0.35rem;
            box-shadow: 0 0.15rem 1.75rem 0 rgba(58, 59, 69, 0.1);
            padding: 1.5rem;
            position: relative;
            overflow: hidden;
        }
        
        .stats-card.primary {
            border-left: 4px solid var(--primary);
        }
        
        .stats-card.success {
            border-left: 4px solid var(--success);
        }
        
        .stats-card.info {
            border-left: 4px solid var(--info);
        }
        
        .stats-card.warning {
            border-left: 4px solid var(--warning);
        }
        
        .stats-card .title {
            font-size: 0.875rem;
            color: var(--secondary);
            text-transform: uppercase;
            font-weight: 600;
        }
        
        .stats-card .value {
            font-size: 1.5rem;
            font-weight: 700;
            margin: 0.5rem 0;
        }
        
        .stats-card .icon {
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-size: 2rem;
            opacity: 0.2;
        }
        
        /* Forms */
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }
        
        .form-control {
            display: block;
            width: 100%;
            padding: 0.75rem;
            font-size: 1rem;
            line-height: 1.5;
            color: #6e707e;
            background-color: #fff;
            background-clip: padding-box;
            border: 1px solid #d1d3e2;
            border-radius: 0.35rem;
            transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
        }
        
        .form-control:focus {
            color: #6e707e;
            background-color: #fff;
            border-color: #bac8f3;
            outline: 0;
            box-shadow: 0 0 0 0.2rem rgba(78, 115, 223, 0.25);
        }
        
        .btn {
            display: inline-block;
            font-weight: 400;
            color: #fff;
            text-align: center;
            vertical-align: middle;
            user-select: none;
            background-color: var(--primary);
            border: 1px solid var(--primary);
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            line-height: 1.5;
            border-radius: 0.35rem;
            transition: all 0.15s ease-in-out;
            cursor: pointer;
        }
        
        .btn:hover {
            background-color: #2e59d9;
            border-color: #2653d4;
            color: white;
        }
        
        .btn-success {
            background-color: var(--success);
            border-color: var(--success);
        }
        
        .btn-success:hover {
            background-color: #17a673;
            border-color: #169b6b;
        }
        
        .btn-danger {
            background-color: var(--danger);
            border-color: var(--danger);
        }
        
        .btn-danger:hover {
            background-color: #d62c1a;
            border-color: #c52717;
        }
        
        .btn-warning {
            background-color: var(--warning);
            border-color: var(--warning);
        }
        
        .btn-warning:hover {
            background-color: #e0b228;
            border-color: #d9aa24;
        }
        
        .btn-info {
            background-color: var(--info);
            border-color: var(--info);
        }
        
        .btn-info:hover {
            background-color: #2c9faf;
            border-color: #2a96a5;
        }
        
        .btn-secondary {
            background-color: var(--secondary);
            border-color: var(--secondary);
        }
        
        .btn-secondary:hover {
            background-color: #717384;
            border-color: #6b6d7d;
        }
        
        /* Tables */
        .table {
            width: 100%;
            margin-bottom: 1rem;
            color: #858796;
            border-collapse: collapse;
        }
        
        .table th {
            padding: 1rem;
            vertical-align: bottom;
            border-bottom: 2px solid #e3e6f0;
            text-align: left;
            font-weight: 700;
        }
        
        .table td {
            padding: 1rem;
            vertical-align: top;
            border-top: 1px solid #e3e6f0;
        }
        
        .table-striped tbody tr:nth-of-type(odd) {
            background-color: #f8f9fc;
        }
        
        .badge {
            display: inline-block;
            padding: 0.35em 0.65em;
            font-size: 0.75em;
            font-weight: 700;
            line-height: 1;
            text-align: center;
            white-space: nowrap;
            vertical-align: baseline;
            border-radius: 0.25rem;
        }
        
        .badge-success {
            color: #fff;
            background-color: var(--success);
        }
        
        .badge-danger {
            color: #fff;
            background-color: var(--danger);
        }
        
        .badge-warning {
            color: #fff;
            background-color: var(--warning);
        }
        
        .badge-info {
            color: #fff;
            background-color: var(--info);
        }
        
        .badge-primary {
            color: #fff;
            background-color: var(--primary);
        }
        
        /* Alert */
        .alert {
            position: relative;
            padding: 1rem 1.5rem;
            margin-bottom: 1rem;
            border: 1px solid transparent;
            border-radius: 0.35rem;
        }
        
        .alert-success {
            color: #0f5132;
            background-color: #d1e7dd;
            border-color: #badbcc;
        }
        
        .alert-danger {
            color: #842029;
            background-color: #f8d7da;
            border-color: #f5c2c7;
        }
        
        .alert-warning {
            color: #664d03;
            background-color: #fff3cd;
            border-color: #ffecb5;
        }
        
        .alert-info {
            color: #055160;
            background-color: #cff4fc;
            border-color: #b6effb;
        }
        
        /* Login Page */
        .login-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #f8f9fc;
        }
        
        .login-wrapper {
            width: 100%;
            max-width: 1200px;
            display: flex;
            box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
            border-radius: 0.5rem;
            overflow: hidden;
        }
        
        .login-left {
            flex: 1;
            background: linear-gradient(135deg, var(--primary) 0%, #224abe 100%);
            color: white;
            padding: 4rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .login-left h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        
        .login-left p {
            font-size: 1.1rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }
        
        .login-features {
            text-align: left;
            margin-top: 2rem;
        }
        
        .login-feature {
            display: flex;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .login-feature i {
            font-size: 1.5rem;
            margin-right: 1rem;
            color: rgba(255, 255, 255, 0.8);
        }
        
        .login-right {
            flex: 1;
            background-color: white;
            padding: 4rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .login-card {
            width: 100%;
            max-width: 400px;
            margin: 0 auto;
        }
        
        .login-header {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .login-header img {
            height: 60px;
            margin-bottom: 1rem;
        }
        
        .login-header h2 {
            font-size: 1.75rem;
            color: var(--dark);
            margin-bottom: 0.5rem;
        }
        
        .login-header p {
            color: var(--secondary);
        }
        
        .login-body {
            margin-bottom: 1.5rem;
        }
        
        .login-footer {
            text-align: center;
            margin-top: 1.5rem;
        }
        
        .login-footer a {
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
        }
        
        .social-login {
            margin-top: 2rem;
        }
        
        .social-login p {
            text-align: center;
            color: var(--secondary);
            margin-bottom: 1rem;
            position: relative;
        }
        
        .social-login p::before,
        .social-login p::after {
            content: "";
            display: inline-block;
            width: 30%;
            height: 1px;
            background-color: #e3e6f0;
            position: absolute;
            top: 50%;
        }
        
        .social-login p::before {
            left: 0;
        }
        
        .social-login p::after {
            right: 0;
        }
        
        .social-buttons {
            display: flex;
            justify-content: center;
            gap: 1rem;
        }
        
        .social-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            color: white;
            font-size: 1.2rem;
            transition: all 0.3s;
        }
        
        .social-btn.facebook {
            background-color: #3b5998;
        }
        
        .social-btn.google {
            background-color: #db4437;
        }
        
        .social-btn.twitter {
            background-color: #1da1f2;
        }
        
        .social-btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }
        
        /* Register Page */
        .register-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #f8f9fc;
        }
        
        .register-wrapper {
            width: 100%;
            max-width: 1200px;
            display: flex;
            box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
            border-radius: 0.5rem;
            overflow: hidden;
        }
        
        .register-left {
            flex: 1;
            background: linear-gradient(135deg, var(--success) 0%, #17a673 100%);
            color: white;
            padding: 4rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        
        .register-left h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        
        .register-left p {
            font-size: 1.1rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }
        
        .register-features {
            text-align: left;
            margin-top: 2rem;
        }
        
        .register-feature {
            display: flex;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .register-feature i {
            font-size: 1.5rem;
            margin-right: 1rem;
            color: rgba(255, 255, 255, 0.8);
        }
        
        .register-right {
            flex: 1;
            background-color: white;
            padding: 4rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .register-card {
            width: 100%;
            max-width: 400px;
            margin: 0 auto;
        }
        
        .register-header {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .register-header img {
            height: 60px;
            margin-bottom: 1rem;
        }
        
        .register-header h2 {
            font-size: 1.75rem;
            color: var(--dark);
            margin-bottom: 0.5rem;
        }
        
        .register-header p {
            color: var(--secondary);
        }
        
        .register-body {
            margin-bottom: 1.5rem;
        }
        
        .register-footer {
            text-align: center;
            margin-top: 1.5rem;
        }
        
        .register-footer a {
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
        }
        
        /* Modal */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1050;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
        }
        
        .modal.show {
            opacity: 1;
            visibility: visible;
        }
        
        .modal-dialog {
            width: 100%;
            max-width: 500px;
            background-color: white;
            border-radius: 0.5rem;
            overflow: hidden;
            box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
            transform: translateY(-50px);
            transition: transform 0.3s;
        }
        
        .modal.show .modal-dialog {
            transform: translateY(0);
        }
        
        .modal-header {
            padding: 1.5rem;
            background-color: #f8f9fc;
            border-bottom: 1px solid #e3e6f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-header h5 {
            font-weight: 700;
            margin: 0;
        }
        
        .modal-header .close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        .modal-body {
            padding: 1.5rem;
        }
        
        .modal-footer {
            padding: 1rem;
            background-color: #f8f9fc;
            border-top: 1px solid #e3e6f0;
            display: flex;
            justify-content: flex-end;
        }
        
        /* Responsive */
        @media (max-width: 992px) {
            .login-wrapper,
            .register-wrapper {
                flex-direction: column;
            }
            
            .login-left,
            .register-left {
                padding: 2rem;
            }
            
            .login-right,
            .register-right {
                padding: 2rem;
            }
        }
        
        @media (max-width: 768px) {
            .sidebar {
                margin-left: -250px;
            }
            
            .sidebar.show {
                margin-left: 0;
            }
            
            .main-content {
                margin-left: 0;
            }
            
            .navbar {
                padding: 1rem;
            }
            
            .stats-cards {
                grid-template-columns: 1fr;
            }
            
            .login-left,
            .register-left {
                display: none;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <!-- Login Page -->
    <div id="login-page" class="login-container">
        <div class="login-wrapper">
            <div class="login-left">
                <h1>Welcome to WealthGrow</h1>
                <p>Start growing your wealth with our secure investment platform</p>
                <div class="login-features">
                    <div class="login-feature">
                        <i class="fas fa-chart-line"></i>
                        <div>
                            <h4>High Returns</h4>
                            <p>Earn up to 15% daily on your investments</p>
                        </div>
                    </div>
                    <div class="login-feature">
                        <i class="fas fa-shield-alt"></i>
                        <div>
                            <h4>Secure Platform</h4>
                            <p>Bank-level security for your funds and data</p>
                        </div>
                    </div>
                    <div class="login-feature">
                        <i class="fas fa-headset"></i>
                        <div>
                            <h4>24/7 Support</h4>
                            <p>Our team is always ready to assist you</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="login-right">
                <div class="login-card">
                    <div class="login-header">
                        <img src="https://via.placeholder.com/60x60" alt="WealthGrow Logo">
                        <h2>Sign In</h2>
                        <p>Enter your credentials to access your account</p>
                    </div>
                    <div class="login-body">
                        <form id="login-form">
                            <div class="form-group">
                                <label for="login-username" class="form-label">Username</label>
                                <input type="text" id="login-username" class="form-control" placeholder="Enter your username" required>
                            </div>
                            <div class="form-group">
                                <label for="login-password" class="form-label">Password</label>
                                <input type="password" id="login-password" class="form-control" placeholder="Enter your password" required>
                            </div>
                            <div class="form-group">
                                <button type="submit" class="btn btn-primary w-100">Login</button>
                            </div>
                            <div class="form-group text-center">
                                <a href="#" id="forgot-password">Forgot Password?</a>
                            </div>
                        </form>
                        <div class="social-login">
                            <p>Or sign in with</p>
                            <div class="social-buttons">
                                <a href="#" class="social-btn facebook"><i class="fab fa-facebook-f"></i></a>
                                <a href="#" class="social-btn google"><i class="fab fa-google"></i></a>
                                <a href="#" class="social-btn twitter"><i class="fab fa-twitter"></i></a>
                            </div>
                        </div>
                    </div>
                    <div class="login-footer">
                        <p>Don't have an account? <a href="#" id="show-register">Register</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Register Page -->
    <div id="register-page" class="register-container" style="display: none;">
        <div class="register-wrapper">
            <div class="register-left">
                <h1>Join WealthGrow Today</h1>
                <p>Start your investment journey with just a few clicks</p>
                <div class="register-features">
                    <div class="register-feature">
                        <i class="fas fa-hand-holding-usd"></i>
                        <div>
                            <h4>Low Minimum Deposit</h4>
                            <p>Start investing with as little as 300 ETB</p>
                        </div>
                    </div>
                    <div class="register-feature">
                        <i class="fas fa-user-friends"></i>
                        <div>
                            <h4>Referral Program</h4>
                            <p>Earn bonuses for inviting friends</p>
                        </div>
                    </div>
                    <div class="register-feature">
                        <i class="fas fa-clock"></i>
                        <div>
                            <h4>Fast Withdrawals</h4>
                            <p>Get your funds within 24 hours</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="register-right">
                <div class="register-card">
                    <div class="register-header">
                        <img src="https://via.placeholder.com/60x60" alt="WealthGrow Logo">
                        <h2>Create Account</h2>
                        <p>Fill in your details to get started</p>
                    </div>
                    <div class="register-body">
                        <form id="register-form">
                            <div class="form-group">
                                <label for="register-fullname" class="form-label">Full Name</label>
                                <input type="text" id="register-fullname" class="form-control" placeholder="Enter your full name" required>
                            </div>
                            <div class="form-group">
                                <label for="register-username" class="form-label">Username</label>
                                <input type="text" id="register-username" class="form-control" placeholder="Choose a username" required>
                            </div>
                            <div class="form-group">
                                <label for="register-email" class="form-label">Email</label>
                                <input type="email" id="register-email" class="form-control" placeholder="Enter your email" required>
                            </div>
                            <div class="form-group">
                                <label for="register-phone" class="form-label">Phone Number</label>
                                <input type="tel" id="register-phone" class="form-control" placeholder="Enter your phone number" required>
                            </div>
                            <div class="form-group">
                                <label for="register-password" class="form-label">Password</label>
                                <input type="password" id="register-password" class="form-control" placeholder="Create a password" required>
                            </div>
                            <div class="form-group">
                                <label for="register-confirm-password" class="form-label">Confirm Password</label>
                                <input type="password" id="register-confirm-password" class="form-control" placeholder="Confirm your password" required>
                            </div>
                            <div class="form-group">
                                <label for="register-referral" class="form-label">Referral Code (Optional)</label>
                                <input type="text" id="register-referral" class="form-control" placeholder="Enter referral code if any">
                            </div>
                            <div class="form-group">
                                <div class="form-check">
                                    <input type="checkbox" id="register-terms" class="form-check-input" required>
                                    <label for="register-terms" class="form-check-label">I agree to the <a href="#">Terms and Conditions</a></label>
                                </div>
                            </div>
                            <div class="form-group">
                                <button type="submit" class="btn btn-primary w-100">Register</button>
                            </div>
                        </form>
                    </div>
                    <div class="register-footer">
                        <p>Already have an account? <a href="#" id="show-login">Login</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Forgot Password Modal -->
    <div class="modal" id="forgot-password-modal">
        <div class="modal-dialog">
            <div class="modal-header">
                <h5>Reset Password</h5>
                <button class="close" id="close-forgot-password-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="forgot-password-form">
                    <div class="form-group">
                        <label for="forgot-email" class="form-label">Email Address</label>
                        <input type="email" id="forgot-email" class="form-control" placeholder="Enter your email" required>
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-primary w-100">Send Reset Link</button>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <p class="text-center">Remember your password? <a href="#" id="show-login-from-forgot">Login</a></p>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="app" style="display: none;">
        <div class="container">
            <!-- Sidebar -->
            <div class="sidebar" id="sidebar">
                <div class="sidebar-header">
                    <h3>WealthGrow</h3>
                </div>
                <ul class="sidebar-menu" id="user-menu">
                    <li class="active">
                        <a href="#dashboard">
                            <i class="fas fa-fw fa-tachometer-alt"></i>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <li>
                        <a href="#deposit">
                            <i class="fas fa-fw fa-money-bill-wave"></i>
                            <span>Deposit</span>
                        </a>
                    </li>
                    <li>
                        <a href="#withdraw">
                            <i class="fas fa-fw fa-wallet"></i>
                            <span>Withdraw</span>
                        </a>
                    </li>
                    <li>
                        <a href="#invest">
                            <i class="fas fa-fw fa-chart-line"></i>
                            <span>Invest</span>
                        </a>
                    </li>
                    <li>
                        <a href="#transactions">
                            <i class="fas fa-fw fa-exchange-alt"></i>
                            <span>Transactions</span>
                        </a>
                    </li>
                    <li>
                        <a href="#referrals">
                            <i class="fas fa-fw fa-users"></i>
                            <span>Referrals</span>
                        </a>
                    </li>
                    <li>
                        <a href="#profile">
                            <i class="fas fa-fw fa-user"></i>
                            <span>Profile</span>
                        </a>
                    </li>
                </ul>
                <ul class="sidebar-menu" id="admin-menu" style="display: none;">
                    <li>
                        <a href="#admin-dashboard">
                            <i class="fas fa-fw fa-tachometer-alt"></i>
                            <span>Admin Dashboard</span>
                        </a>
                    </li>
                    <li>
                        <a href="#users">
                            <i class="fas fa-fw fa-users"></i>
                            <span>Manage Users</span>
                        </a>
                    </li>
                    <li>
                        <a href="#deposits">
                            <i class="fas fa-fw fa-money-bill-wave"></i>
                            <span>Deposit Requests</span>
                        </a>
                    </li>
                    <li>
                        <a href="#withdrawals">
                            <i class="fas fa-fw fa-wallet"></i>
                            <span>Withdrawal Requests</span>
                        </a>
                    </li>
                    <li>
                        <a href="#investment-plans">
                            <i class="fas fa-fw fa-chart-line"></i>
                            <span>Investment Plans</span>
                        </a>
                    </li>
                    <li>
                        <a href="#settings">
                            <i class="fas fa-fw fa-cog"></i>
                            <span>Settings</span>
                        </a>
                    </li>
                </ul>
            </div>

            <!-- Main Content -->
            <div class="main-content" id="main-content">
                <!-- Navbar -->
                <nav class="navbar">
                    <div class="navbar-left">
                        <button class="toggle-sidebar" id="toggle-sidebar">
                            <i class="fas fa-bars"></i>
                        </button>
                        <div class="page-title">
                            <h1 id="page-title">Dashboard</h1>
                        </div>
                    </div>
                    <div class="navbar-right">
                        <div class="user-menu">
                            <button class="user-btn" id="user-btn">
                                <img src="https://ui-avatars.com/api/?name=User&background=4e73df&color=fff" alt="User" id="user-avatar">
                                <span id="username-display">User</span>
                                <i class="fas fa-caret-down ml-1"></i>
                            </button>
                            <div class="dropdown-menu" id="dropdown-menu">
                                <a href="#profile" class="dropdown-item">
                                    <i class="fas fa-fw fa-user mr-2"></i> Profile
                                </a>
                                <a href="#" class="dropdown-item" id="logout-btn">
                                    <i class="fas fa-fw fa-sign-out-alt mr-2"></i> Logout
                                </a>
                            </div>
                        </div>
                    </div>
                </nav>

                <!-- Content -->
                <div class="content">
                    <!-- Dashboard Page -->
                    <div id="dashboard-page">
                        <div class="page-header">
                            <div class="page-title">
                                <h1>Dashboard</h1>
                            </div>
                            <div class="breadcrumb">
                                <li class="breadcrumb-item active">Dashboard</li>
                            </div>
                        </div>

                        <!-- Stats Cards -->
                        <div class="stats-cards">
                            <div class="stats-card primary">
                                <div class="title">Account Balance</div>
                                <div class="value" id="balance-amount">0.00 ETB</div>
                                <div class="icon">
                                    <i class="fas fa-wallet"></i>
                                </div>
                            </div>
                            <div class="stats-card success">
                                <div class="title">Total Profit</div>
                                <div class="value" id="total-profit">0.00 ETB</div>
                                <div class="icon">
                                    <i class="fas fa-chart-line"></i>
                                </div>
                            </div>
                            <div class="stats-card info">
                                <div class="title">Active Investments</div>
                                <div class="value" id="active-investments">0</div>
                                <div class="icon">
                                    <i class="fas fa-chart-pie"></i>
                                </div>
                            </div>
                            <div class="stats-card warning">
                                <div class="title">Total Referrals</div>
                                <div class="value" id="total-referrals">0</div>
                                <div class="icon">
                                    <i class="fas fa-users"></i>
                                </div>
                            </div>
                        </div>

                        <!-- Recent Transactions -->
                        <div class="card">
                            <div class="card-header">
                                <h6>Recent Transactions</h6>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>Date</th>
                                                <th>Type</th>
                                                <th>Amount</th>
                                                <th>Status</th>
                                            </tr>
                                        </thead>
                                        <tbody id="recent-transactions">
                                            <!-- Transactions will be added here dynamically -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <!-- Active Investments -->
                        <div class="card">
                            <div class="card-header">
                                <h6>Active Investments</h6>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>Plan</th>
                                                <th>Amount</th>
                                                <th>Profit</th>
                                                <th>Start Date</th>
                                                <th>End Date</th>
                                                <th>Status</th>
                                            </tr>
                                        </thead>
                                        <tbody id="active-investments-table">
                                            <!-- Investments will be added here dynamically -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Deposit Page -->
                    <div id="deposit-page" style="display: none;">
                        <div class="page-header">
                            <div class="page-title">
                                <h1>Deposit Funds</h1>
                            </div>
                            <div class="breadcrumb">
                                <li class="breadcrumb-item"><a href="#dashboard">Dashboard</a></li>
                                <li class="breadcrumb-item active">Deposit</li>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h6>Make a Deposit</h6>
                            </div>
                            <div class="card-body">
                                <form id="deposit-form">
                                    <div class="form-group">
                                        <label for="deposit-amount" class="form-label">Amount (ETB)</label>
                                        <input type="number" id="deposit-amount" class="form-control" placeholder="Enter amount (minimum 300 ETB)" min="300" required>
                                        <small class="text-muted">Minimum deposit: 300 ETB</small>
                                    </div>
                                    <div class="form-group">
                                        <label for="deposit-method" class="form-label">Payment Method</label>
                                        <select id="deposit-method" class="form-control" required>
                                            <option value="">Select payment method</option>
                                            <option value="telebirr">Telebirr</option>
                                            <option value="cbe">CBE Birr</option>
                                            <option value="awash">Awash Bank</option>
                                            <option value="dashen">Dashen Bank</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="deposit-phone" class="form-label">Phone Number</label>
                                        <input type="tel" id="deposit-phone" class="form-control" placeholder="Enter your phone number" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="deposit-transaction-id" class="form-label">Transaction ID</label>
                                        <input type="text" id="deposit-transaction-id" class="form-control" placeholder="Enter transaction ID" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="deposit-screenshot" class="form-label">Payment Screenshot</label>
                                        <input type="file" id="deposit-screenshot" class="form-control" accept="image/*" required>
                                    </div>
                                    <div class="form-group">
                                        <div id="bank-details" style="display: none;">
                                            <h6>Bank Details</h6>
                                            <p id="bank-info"></p>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <button type="submit" class="btn btn-primary">Submit Deposit Request</button>
                                    </div>
                                </form>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h6>Deposit History</h6>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>Date</th>
                                                <th>Amount</th>
                                                <th>Method</th>
                                                <th>Status</th>
                                                <th>Proof</th>
                                            </tr>
                                        </thead>
                                        <tbody id="deposit-history">
                                            <!-- Deposit history will be added here dynamically -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Withdraw Page -->
                    <div id="withdraw-page" style="display: none;">
                        <div class="page-header">
                            <div class="page-title">
                                <h1>Withdraw Funds</h1>
                            </div>
                            <div class="breadcrumb">
                                <li class="breadcrumb-item"><a href="#dashboard">Dashboard</a></li>
                                <li class="breadcrumb-item active">Withdraw</li>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h6>Request Withdrawal</h6>
                            </div>
                            <div class="card-body">
                                <form id="withdraw-form">
                                    <div class="form-group">
                                        <label for="withdraw-amount" class="form-label">Amount (ETB)</label>
                                        <input type="number" id="withdraw-amount" class="form-control" placeholder="Enter amount (minimum 100 ETB)" min="100" required>
                                        <small class="text-muted">Minimum withdrawal: 100 ETB (6% fee applies)</small>
                                    </div>
                                    <div class="form-group">
                                        <label for="withdraw-method" class="form-label">Payment Method</label>
                                        <select id="withdraw-method" class="form-control" required>
                                            <option value="">Select payment method</option>
                                            <option value="telebirr">Telebirr</option>
                                            <option value="cbe">CBE Birr</option>
                                            <option value="awash">Awash Bank</option>
                                            <option value="dashen">Dashen Bank</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="withdraw-phone" class="form-label">Phone Number</label>
                                        <input type="tel" id="withdraw-phone" class="form-control" placeholder="Enter your phone number" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="withdraw-account-name" class="form-label">Account Name</label>
                                        <input type="text" id="withdraw-account-name" class="form-control" placeholder="Enter account name" required>
                                    </div>
                                    <div class="form-group">
                                        <button type="submit" class="btn btn-primary">Submit Withdrawal Request</button>
                                    </div>
                                </form>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h6>Withdrawal History</h6>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>Date</th>
                                                <th>Amount</th>
                                                <th>Fee</th>
                                                <th>Method</th>
                                                <th>Status</th>
                                            </tr>
                                        </thead>
                                        <tbody id="withdraw-history">
                                            <!-- Withdrawal history will be added here dynamically -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Invest Page -->
                    <div id="invest-page" style="display: none;">
                        <div class="page-header">
                            <div class="page-title">
                                <h1>Investment Plans</h1>
                            </div>
                            <div class="breadcrumb">
                                <li class="breadcrumb-item"><a href="#dashboard">Dashboard</a></li>
                                <li class="breadcrumb-item active">Invest</li>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h6>Available Investment Plans</h6>
                            </div>
                            <div class="card-body">
                                <div class="row" id="investment-plans">
                                    <!-- Investment plans will be added here dynamically -->
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h6>Active Investments</h6>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>Plan</th>
                                                <th>Amount</th>
                                                <th>Daily Profit</th>
                                                <th>Total Profit</th>
                                                <th>Start Date</th>
                                                <th>End Date</th>
                                                <th>Status</th>
                                            </tr>
                                        </thead>
                                        <tbody id="user-investments">
                                            <!-- User investments will be added here dynamically -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Transactions Page -->
                    <div id="transactions-page" style="display: none;">
                        <div class="page-header">
                            <div class="page-title">
                                <h1>Transaction History</h1>
                            </div>
                            <div class="breadcrumb">
                                <li class="breadcrumb-item"><a href="#dashboard">Dashboard</a></li>
                                <li class="breadcrumb-item active">Transactions</li>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h6>All Transactions</h6>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>Date</th>
                                                <th>Type</th>
                                                <th>Amount</th>
                                                <th>Description</th>
                                                <th>Status</th>
                                            </tr>
                                        </thead>
                                        <tbody id="all-transactions">
                                            <!-- All transactions will be added here dynamically -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Referrals Page -->
                    <div id="referrals-page" style="display: none;">
                        <div class="page-header">
                            <div class="page-title">
                                <h1>Referral Program</h1>
                            </div>
                            <div class="breadcrumb">
                                <li class="breadcrumb-item"><a href="#dashboard">Dashboard</a></li>
                                <li class="breadcrumb-item active">Referrals</li>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h6>Your Referral Link</h6>
                            </div>
                            <div class="card-body">
                                <div class="form-group">
                                    <label class="form-label">Share this link and earn 5 ETB for each successful registration</label>
                                    <div class="input-group">
                                        <input type="text" class="form-control" id="referral-link" readonly>
                                        <button class="btn btn-primary" id="copy-referral-link">
                                            <i class="fas fa-copy"></i> Copy
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h6>Referral Statistics</h6>
                            </div>
                            <div class="card-body">
                                <div class="stats-cards">
                                    <div class="stats-card primary">
                                        <div class="title">Total Referrals</div>
                                        <div class="value" id="referral-total">0</div>
                                        <div class="icon">
                                            <i class="fas fa-users"></i>
                                        </div>
                                    </div>
                                    <div class="stats-card success">
                                        <div class="title">Active Referrals</div>
                                        <div class="value" id="referral-active">0</div>
                                        <div class="icon">
                                            <i class="fas fa-user-check"></i>
                                        </div>
                                    </div>
                                    <div class="stats-card info">
                                        <div class="title">Total Earnings</div>
                                        <div class="value" id="referral-earnings">0.00 ETB</div>
                                        <div class="icon">
                                            <i class="fas fa-coins"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h6>Your Referrals</h6>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>Name</th>
                                                <th>Username</th>
                                                <th>Join Date</th>
                                                <th>Status</th>
                                                <th>Earned</th>
                                            </tr>
                                        </thead>
                                        <tbody id="referral-list">
                                            <!-- Referrals will be added here dynamically -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Profile Page -->
                    <div id="profile-page" style="display: none;">
                        <div class="page-header">
                            <div class="page-title">
                                <h1>Profile Settings</h1>
                            </div>
                            <div class="breadcrumb">
                                <li class="breadcrumb-item"><a href="#dashboard">Dashboard</a></li>
                                <li class="breadcrumb-item active">Profile</li>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h6>Personal Information</h6>
                            </div>
                            <div class="card-body">
                                <form id="profile-form">
                                    <div class="form-group">
                                        <label for="profile-fullname" class="form-label">Full Name</label>
                                        <input type="text" id="profile-fullname" class="form-control" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="profile-email" class="form-label">Email</label>
                                        <input type="email" id="profile-email" class="form-control" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="profile-phone" class="form-label">Phone Number</label>
                                        <input type="tel" id="profile-phone" class="form-control" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="profile-address" class="form-label">Address</label>
                                        <textarea id="profile-address" class="form-control" rows="3"></textarea>
                                    </div>
                                    <div class="form-group">
                                        <button type="submit" class="btn btn-primary">Update Profile</button>
                                    </div>
                                </form>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h6>Change Password</h6>
                            </div>
                            <div class="card-body">
                                <form id="password-form">
                                    <div class="form-group">
                                        <label for="current-password" class="form-label">Current Password</label>
                                        <input type="password" id="current-password" class="form-control" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="new-password" class="form-label">New Password</label>
                                        <input type="password" id="new-password" class="form-control" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="confirm-password" class="form-label">Confirm New Password</label>
                                        <input type="password" id="confirm-password" class="form-control" required>
                                    </div>
                                    <div class="form-group">
                                        <button type="submit" class="btn btn-primary">Change Password</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>

                    <!-- Admin Dashboard -->
                    <div id="admin-dashboard-page" style="display: none;">
                        <div class="page-header">
                            <div class="page-title">
                                <h1>Admin Dashboard</h1>
                            </div>
                            <div class="breadcrumb">
                                <li class="breadcrumb-item active">Admin Dashboard</li>
                            </div>
                        </div>

                        <div class="stats-cards">
                            <div class="stats-card primary">
                                <div class="title">Total Users</div>
                                <div class="value" id="admin-total-users">0</div>
                                <div class="icon">
                                    <i class="fas fa-users"></i>
                                </div>
                            </div>
                            <div class="stats-card success">
                                <div class="title">Active Users</div>
                                <div class="value" id="admin-active-users">0</div>
                                <div class="icon">
                                    <i class="fas fa-user-check"></i>
                                </div>
                            </div>
                            <div class="stats-card info">
                                <div class="title">Total Deposits</div>
                                <div class="value" id="admin-total-deposits">0.00 ETB</div>
                                <div class="icon">
                                    <i class="fas fa-money-bill-wave"></i>
                                </div>
                            </div>
                            <div class="stats-card warning">
                                <div class="title">Total Withdrawals</div>
                                <div class="value" id="admin-total-withdrawals">0.00 ETB</div>
                                <div class="icon">
                                    <i class="fas fa-wallet"></i>
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h6>Recent Activities</h6>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>Date</th>
                                                <th>User</th>
                                                <th>Activity</th>
                                                <th>Amount</th>
                                            </tr>
                                        </thead>
                                        <tbody id="admin-recent-activities">
                                            <!-- Activities will be added here dynamically -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Manage Users -->
                    <div id="users-page" style="display: none;">
                        <div class="page-header">
                            <div class="page-title">
                                <h1>Manage Users</h1>
                            </div>
                            <div class="breadcrumb">
                                <li class="breadcrumb-item"><a href="#admin-dashboard">Admin Dashboard</a></li>
                                <li class="breadcrumb-item active">Users</li>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h6>All Users</h6>
                                <div class="form-group" style="margin-bottom: 0;">
                                    <input type="text" id="user-search" class="form-control" placeholder="Search users...">
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>Username</th>
                                                <th>Name</th>
                                                <th>Email</th>
                                                <th>Balance</th>
                                                <th>Status</th>
                                                <th>Joined</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody id="users-list">
                                            <!-- Users will be added here dynamically -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Deposit Requests -->
                    <div id="deposits-page" style="display: none;">
                        <div class="page-header">
                            <div class="page-title">
                                <h1>Deposit Requests</h1>
                            </div>
                            <div class="breadcrumb">
                                <li class="breadcrumb-item"><a href="#admin-dashboard">Admin Dashboard</a></li>
                                <li class="breadcrumb-item active">Deposits</li>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h6>Pending Deposits</h6>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>Date</th>
                                                <th>User</th>
                                                <th>Amount</th>
                                                <th>Method</th>
                                                <th>Transaction ID</th>
                                                <th>Proof</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody id="pending-deposits">
                                            <!-- Pending deposits will be added here dynamically -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h6>Completed Deposits</h6>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>Date</th>
                                                <th>User</th>
                                                <th>Amount</th>
                                                <th>Method</th>
                                                <th>Confirmed By</th>
                                            </tr>
                                        </thead>
                                        <tbody id="completed-deposits">
                                            <!-- Completed deposits will be added here dynamically -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Withdrawal Requests -->
                    <div id="withdrawals-page" style="display: none;">
                        <div class="page-header">
                            <div class="page-title">
                                <h1>Withdrawal Requests</h1>
                            </div>
                            <div class="breadcrumb">
                                <li class="breadcrumb-item"><a href="#admin-dashboard">Admin Dashboard</a></li>
                                <li class="breadcrumb-item active">Withdrawals</li>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h6>Pending Withdrawals</h6>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>Date</th>
                                                <th>User</th>
                                                <th>Amount</th>
                                                <th>Fee</th>
                                                <th>Method</th>
                                                <th>Account</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody id="pending-withdrawals">
                                            <!-- Pending withdrawals will be added here dynamically -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h6>Completed Withdrawals</h6>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>Date</th>
                                                <th>User</th>
                                                <th>Amount</th>
                                                <th>Fee</th>
                                                <th>Method</th>
                                                <th>Processed By</th>
                                            </tr>
                                        </thead>
                                        <tbody id="completed-withdrawals">
                                            <!-- Completed withdrawals will be added here dynamically -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Investment Plans -->
                    <div id="investment-plans-page" style="display: none;">
                        <div class="page-header">
                            <div class="page-title">
                                <h1>Investment Plans</h1>
                            </div>
                            <div class="breadcrumb">
                                <li class="breadcrumb-item"><a href="#admin-dashboard">Admin Dashboard</a></li>
                                <li class="breadcrumb-item active">Plans</li>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h6>Add New Plan</h6>
                            </div>
                            <div class="card-body">
                                <form id="add-plan-form">
                                    <div class="form-group">
                                        <label for="plan-name" class="form-label">Plan Name</label>
                                        <input type="text" id="plan-name" class="form-control" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="plan-min" class="form-label">Minimum Amount (ETB)</label>
                                        <input type="number" id="plan-min" class="form-control" min="0" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="plan-max" class="form-label">Maximum Amount (ETB)</label>
                                        <input type="number" id="plan-max" class="form-control" min="0">
                                        <small class="text-muted">Leave empty for no maximum</small>
                                    </div>
                                    <div class="form-group">
                                        <label for="plan-duration" class="form-label">Duration (Days)</label>
                                        <input type="number" id="plan-duration" class="form-control" min="1" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="plan-profit" class="form-label">Daily Profit (%)</label>
                                        <input type="number" id="plan-profit" class="form-control" min="0" step="0.01" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="plan-description" class="form-label">Description</label>
                                        <textarea id="plan-description" class="form-control" rows="3"></textarea>
                                    </div>
                                    <div class="form-group">
                                        <button type="submit" class="btn btn-primary">Add Plan</button>
                                    </div>
                                </form>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h6>Current Plans</h6>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>Name</th>
                                                <th>Min Amount</th>
                                                <th>Max Amount</th>
                                                <th>Duration</th>
                                                <th>Daily Profit</th>
                                                <th>Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody id="plans-list">
                                            <!-- Plans will be added here dynamically -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Settings -->
                    <div id="settings-page" style="display: none;">
                        <div class="page-header">
                            <div class="page-title">
                                <h1>System Settings</h1>
                            </div>
                            <div class="breadcrumb">
                                <li class="breadcrumb-item"><a href="#admin-dashboard">Admin Dashboard</a></li>
                                <li class="breadcrumb-item active">Settings</li>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h6>General Settings</h6>
                            </div>
                            <div class="card-body">
                                <form id="general-settings-form">
                                    <div class="form-group">
                                        <label for="site-name" class="form-label">Site Name</label>
                                        <input type="text" id="site-name" class="form-control" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="site-currency" class="form-label">Currency</label>
                                        <input type="text" id="site-currency" class="form-control" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="min-deposit" class="form-label">Minimum Deposit (ETB)</label>
                                        <input type="number" id="min-deposit" class="form-control" min="0" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="min-withdraw" class="form-label">Minimum Withdrawal (ETB)</label>
                                        <input type="number" id="min-withdraw" class="form-control" min="0" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="withdraw-fee" class="form-label">Withdrawal Fee (%)</label>
                                        <input type="number" id="withdraw-fee" class="form-control" min="0" max="100" step="0.01" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="referral-bonus" class="form-label">Referral Bonus (ETB)</label>
                                        <input type="number" id="referral-bonus" class="form-control" min="0" required>
                                    </div>
                                    <div class="form-group">
                                        <button type="submit" class="btn btn-primary">Save Settings</button>
                                    </div>
                                </form>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h6>Bank Account Settings</h6>
                            </div>
                            <div class="card-body">
                                <form id="bank-settings-form">
                                    <div class="form-group">
                                        <label for="bank-name" class="form-label">Bank Name</label>
                                        <input type="text" id="bank-name" class="form-control" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="account-name" class="form-label">Account Name</label>
                                        <input type="text" id="account-name" class="form-control" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="account-number" class="form-label">Account Number</label>
                                        <input type="text" id="account-number" class="form-control" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="telebirr-number" class="form-label">Telebirr Number</label>
                                        <input type="text" id="telebirr-number" class="form-control" required>
                                    </div>
                                    <div class="form-group">
                                        <button type="submit" class="btn btn-primary">Save Bank Details</button>
                                    </div>
                                </form>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h6>System Information</h6>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table class="table table-striped">
                                        <tbody>
                                            <tr>
                                                <th>Platform Version</th>
                                                <td>v2.5.0</td>
                                            </tr>
                                            <tr>
                                                <th>Last Backup</th>
                                                <td id="last-backup">Never</td>
                                            </tr>
                                            <tr>
                                                <th>Total Users</th>
                                                <td id="system-total-users">0</td>
                                            </tr>
                                            <tr>
                                                <th>Total Transactions</th>
                                                <td id="system-total-transactions">0</td>
                                            </tr>
                                            <tr>
                                                <th>Server Time</th>
                                                <td id="server-time"></td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="mt-3">
                                    <button class="btn btn-primary" id="backup-btn">
                                        <i class="fas fa-database"></i> Create Backup
                                    </button>
                                    <button class="btn btn-danger ml-2" id="reset-btn">
                                        <i class="fas fa-trash"></i> Reset System
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Investment Modal -->
    <div class="modal" id="investment-modal">
        <div class="modal-dialog">
            <div class="modal-header">
                <h5 id="investment-modal-title">Invest in Plan</h5>
                <button class="close" id="close-investment-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="investment-form">
                    <div class="form-group">
                        <label for="investment-amount" class="form-label">Amount to Invest (ETB)</label>
                        <input type="number" id="investment-amount" class="form-control" required>
                        <small id="investment-range" class="text-muted"></small>
                    </div>
                    <div class="form-group">
                        <label for="investment-wallet" class="form-label">Select Wallet</label>
                        <select id="investment-wallet" class="form-control" required>
                            <option value="balance">Account Balance</option>
                            <option value="profit">Profit Balance</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-primary w-100">Confirm Investment</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- User Details Modal -->
    <div class="modal" id="user-modal">
        <div class="modal-dialog">
            <div class="modal-header">
                <h5 id="user-modal-title">User Details</h5>
                <button class="close" id="close-user-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Username</label>
                    <p id="modal-username" class="form-control-static"></p>
                </div>
                <div class="form-group">
                    <label class="form-label">Full Name</label>
                    <p id="modal-fullname" class="form-control-static"></p>
                </div>
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <p id="modal-email" class="form-control-static"></p>
                </div>
                <div class="form-group">
                    <label class="form-label">Phone</label>
                    <p id="modal-phone" class="form-control-static"></p>
                </div>
                <div class="form-group">
                    <label class="form-label">Balance</label>
                    <p id="modal-balance" class="form-control-static"></p>
                </div>
                <div class="form-group">
                    <label class="form-label">Status</label>
                    <p id="modal-status" class="form-control-static"></p>
                </div>
                <div class="form-group">
                    <label class="form-label">Joined Date</label>
                    <p id="modal-joined" class="form-control-static"></p>
                </div>
                <div class="form-group">
                    <label class="form-label">Last Login</label>
                    <p id="modal-last-login" class="form-control-static"></p>
                </div>
                <div class="form-group" id="user-actions">
                    <!-- Actions will be added here dynamically -->
                </div>
            </div>
        </div>
    </div>

    <!-- Plan Details Modal -->
    <div class="modal" id="plan-modal">
        <div class="modal-dialog">
            <div class="modal-header">
                <h5 id="plan-modal-title">Plan Details</h5>
                <button class="close" id="close-plan-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Plan Name</label>
                    <p id="modal-plan-name" class="form-control-static"></p>
                </div>
                <div class="form-group">
                    <label class="form-label">Minimum Amount</label>
                    <p id="modal-plan-min" class="form-control-static"></p>
                </div>
                <div class="form-group">
                    <label class="form-label">Maximum Amount</label>
                    <p id="modal-plan-max" class="form-control-static"></p>
                </div>
                <div class="form-group">
                    <label class="form-label">Duration</label>
                    <p id="modal-plan-duration" class="form-control-static"></p>
                </div>
                <div class="form-group">
                    <label class="form-label">Daily Profit</label>
                    <p id="modal-plan-profit" class="form-control-static"></p>
                </div>
                <div class="form-group">
                    <label class="form-label">Description</label>
                    <p id="modal-plan-description" class="form-control-static"></p>
                </div>
                <div class="form-group" id="plan-actions">
                    <!-- Actions will be added here dynamically -->
                </div>
            </div>
        </div>
    </div>

    <!-- Confirmation Modal -->
    <div class="modal" id="confirm-modal">
        <div class="modal-dialog">
            <div class="modal-header">
                <h5 id="confirm-modal-title">Confirmation</h5>
                <button class="close" id="close-confirm-modal">&times;</button>
            </div>
            <div class="modal-body">
                <p id="confirm-message">Are you sure you want to perform this action?</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancel-confirm">Cancel</button>
                <button class="btn btn-danger" id="confirm-action">Confirm</button>
            </div>
        </div>
    </div>

    <!-- Screenshot Modal -->
    <div class="modal" id="screenshot-modal">
        <div class="modal-dialog">
            <div class="modal-header">
                <h5 id="screenshot-modal-title">Payment Proof</h5>
                <button class="close" id="close-screenshot-modal">&times;</button>
            </div>
            <div class="modal-body">
                <img id="screenshot-image" src="" alt="Payment Proof" style="max-width: 100%;">
            </div>
        </div>
    </div>

    <script>
      // Database implementation using GitHub-hosted JSON with localStorage fallback
const DB = {
  dataUrl: 'https://raw.githubusercontent.com/segnif8/wealth/main/wealthgrow-data.json',
  currentData: null,
  
  // Initialize the database
  async init() {
    try {
      // Try to fetch from GitHub first
      const response = await fetch(`${this.dataUrl}?t=${Date.now()}`); // Cache busting
      if (response.ok) {
        this.currentData = await response.json();
      } else {
        throw new Error('Failed to fetch from GitHub');
      }
    } catch (error) {
      console.log('Using localStorage fallback:', error);
      // Fallback to localStorage if GitHub fetch fails
      const localData = localStorage.getItem('wealthgrow_data');
      this.currentData = localData ? JSON.parse(localData) : this.getDefaultData();
    }
    return this.currentData;
  },
  
  // Default data structure
  getDefaultData() {
    return {
      users: [
        {
          id: 1,
          username: "admin",
          password: "admin123",
          fullname: "Admin User",
          email: "admin@wealthgrow.com",
          phone: "0912345678",
          address: "Addis Ababa, Ethiopia",
          balance: 0,
          profit: 0,
          referral_balance: 0,
          status: "active",
          is_admin: true,
          referral_code: "ADMIN123",
          referred_by: null,
          join_date: new Date().toISOString(),
          last_login: new Date().toISOString()
        }
      ],
      investment_plans: [
        {
          id: 1,
          name: "Starter Plan",
          min_amount: 300,
          max_amount: 5000,
          duration: 7,
          daily_profit: 1.5,
          description: "Perfect for beginners with low risk"
        },
        {
          id: 2,
          name: "Premium Plan",
          min_amount: 5000,
          max_amount: 20000,
          duration: 14,
          daily_profit: 2.5,
          description: "For experienced investors with medium risk"
        },
        {
          id: 3,
          name: "VIP Plan",
          min_amount: 20000,
          max_amount: null,
          duration: 30,
          daily_profit: 4.0,
          description: "High returns for VIP investors"
        }
      ],
      investments: [],
      transactions: [],
      deposits: [],
      withdrawals: [],
      settings: {
        site_name: "WealthGrow Investment",
        currency: "ETB",
        min_deposit: 300,
        min_withdraw: 100,
        withdraw_fee: 6,
        referral_bonus: 5,
        last_backup: null
      },
      bank_details: {
        bank_name: "Commercial Bank of Ethiopia",
        account_name: "WealthGrow Investments",
        account_number: "100034567890",
        telebirr_number: "0912345678"
      }
    };
  },
  
  // Save data to localStorage (temporary solution)
  async saveData() {
    localStorage.setItem('wealthgrow_data', JSON.stringify(this.currentData));
    // In a real app, you would send updates to your backend here
    return true;
  },
  
  // CRUD operations
  async getUsers() {
    await this.init();
    return this.currentData.users;
  },
  
  async setUsers(users) {
    await this.init();
    this.currentData.users = users;
    return this.saveData();
  },
  
  async getInvestmentPlans() {
    await this.init();
    return this.currentData.investment_plans;
  },
  
  async setInvestmentPlans(plans) {
    await this.init();
    this.currentData.investment_plans = plans;
    return this.saveData();
  },
  
  async getInvestments() {
    await this.init();
    return this.currentData.investments;
  },
  
  async setInvestments(investments) {
    await this.init();
    this.currentData.investments = investments;
    return this.saveData();
  },
  
  async getTransactions() {
    await this.init();
    return this.currentData.transactions;
  },
  
  async setTransactions(transactions) {
    await this.init();
    this.currentData.transactions = transactions;
    return this.saveData();
  },
  
  async getDeposits() {
    await this.init();
    return this.currentData.deposits;
  },
  
  async setDeposits(deposits) {
    await this.init();
    this.currentData.deposits = deposits;
    return this.saveData();
  },
  
  async getWithdrawals() {
    await this.init();
    return this.currentData.withdrawals;
  },
  
  async setWithdrawals(withdrawals) {
    await this.init();
    this.currentData.withdrawals = withdrawals;
    return this.saveData();
  },
  
  async getSettings() {
    await this.init();
    return this.currentData.settings;
  },
  
  async setSettings(settings) {
    await this.init();
    this.currentData.settings = settings;
    return this.saveData();
  },
  
  async getBankDetails() {
    await this.init();
    return this.currentData.bank_details;
  },
  
  async setBankDetails(bankDetails) {
    await this.init();
    this.currentData.bank_details = bankDetails;
    return this.saveData();
  },
  
  async backup() {
    await this.init();
    const backup = {
      ...this.currentData,
      timestamp: new Date().toISOString()
    };
    
    // Update last backup time
    this.currentData.settings.last_backup = new Date().toISOString();
    await this.saveData();
    
    return backup;
  },
  
  async reset() {
    this.currentData = this.getDefaultData();
    await this.saveData();
    return this.currentData;
  }
};

// Current user
let currentUser = null;
let confirmCallback = null;

// Initialize the app when DOM is loaded
document.addEventListener('DOMContentLoaded', async () => {
  // Initialize database
  await DB.init();
  
  // Check for logged in user
  const loggedInUserId = localStorage.getItem('wealthgrow_current_user');
  if (loggedInUserId) {
    const users = await DB.getUsers();
    const user = users.find(u => u.id == loggedInUserId);
    if (user) {
      loginUser(user);
    }
  }

  // Check for referral code in URL
  const urlParams = new URLSearchParams(window.location.search);
  const refCode = urlParams.get('ref');
  
  if (refCode) {
    document.getElementById('register-referral').value = refCode;
  }

  // Initialize bank details display
  const depositMethod = document.getElementById('deposit-method');
  if (depositMethod) {
    depositMethod.addEventListener('change', updateBankDetailsDisplay);
  }
  
  // Initialize all event listeners
  initializeEventListeners();
});

// Login user function
async function loginUser(user) {
  currentUser = user;
  user.last_login = new Date().toISOString();
  
  // Update user in database
  const users = await DB.getUsers();
  const updatedUsers = users.map(u => u.id === user.id ? user : u);
  await DB.setUsers(updatedUsers);
  
  // Store current user ID in localStorage
  localStorage.setItem('wealthgrow_current_user', user.id);
  
  document.getElementById('login-page').style.display = 'none';
  document.getElementById('app').style.display = 'block';
  
  // Update UI
  document.getElementById('username-display').textContent = user.username;
  document.getElementById('user-avatar').src = `https://ui-avatars.com/api/?name=${user.username}&background=4e73df&color=fff`;
  
  // Show admin menu if admin
  if (user.is_admin) {
    document.getElementById('admin-menu').style.display = 'block';
    showPage('admin-dashboard');
  } else {
    document.getElementById('admin-menu').style.display = 'none';
    showPage('dashboard');
  }
}

// Update bank details display
async function updateBankDetailsDisplay() {
  const method = document.getElementById('deposit-method').value;
  const bankDetailsDiv = document.getElementById('bank-details');
  const bankInfo = document.getElementById('bank-info');
  const bankDetails = await DB.getBankDetails();

  if (method === 'telebirr') {
    bankInfo.innerHTML = `
      <strong>Telebirr Number:</strong> ${bankDetails.telebirr_number}<br>
      <strong>Account Name:</strong> ${bankDetails.account_name}<br>
      <strong>Note:</strong> Send the exact amount and upload the payment screenshot
    `;
    bankDetailsDiv.style.display = 'block';
  } else if (method) {
    bankInfo.innerHTML = `
      <strong>Bank Name:</strong> ${bankDetails.bank_name}<br>
      <strong>Account Name:</strong> ${bankDetails.account_name}<br>
      <strong>Account Number:</strong> ${bankDetails.account_number}<br>
      <strong>Note:</strong> Send the exact amount and upload the payment screenshot
    `;
    bankDetailsDiv.style.display = 'block';
  } else {
    bankDetailsDiv.style.display = 'none';
  }
}

// Initialize all event listeners
function initializeEventListeners() {
  // Navigation between login and register
  document.getElementById('show-register').addEventListener('click', (e) => {
    e.preventDefault();
    document.getElementById('login-page').style.display = 'none';
    document.getElementById('register-page').style.display = 'flex';
  });

  document.getElementById('show-login').addEventListener('click', (e) => {
    e.preventDefault();
    document.getElementById('register-page').style.display = 'none';
    document.getElementById('login-page').style.display = 'flex';
  });

  // Forgot password functionality
  document.getElementById('forgot-password').addEventListener('click', (e) => {
    e.preventDefault();
    document.getElementById('login-page').style.display = 'none';
    document.getElementById('forgot-password-modal').classList.add('show');
  });

  document.getElementById('show-login-from-forgot').addEventListener('click', (e) => {
    e.preventDefault();
    document.getElementById('forgot-password-modal').classList.remove('show');
    document.getElementById('login-page').style.display = 'flex';
  });

  document.getElementById('close-forgot-password-modal').addEventListener('click', () => {
    document.getElementById('forgot-password-modal').classList.remove('show');
  });

  // Login form submission
  document.getElementById('login-form').addEventListener('submit', async (e) => {
    e.preventDefault();
    const username = document.getElementById('login-username').value;
    const password = document.getElementById('login-password').value;
    
    const users = await DB.getUsers();
    const user = users.find(u => u.username === username && u.password === password);
    
    if (user) {
      if (user.status === 'blocked') {
        alert('Your account has been blocked. Please contact support.');
        return;
      }
      
      await loginUser(user);
    } else {
      alert('Invalid username or password');
    }
  });

  // Register form submission
  document.getElementById('register-form').addEventListener('submit', async (e) => {
    e.preventDefault();
    const fullname = document.getElementById('register-fullname').value;
    const username = document.getElementById('register-username').value;
    const email = document.getElementById('register-email').value;
    const phone = document.getElementById('register-phone').value;
    const password = document.getElementById('register-password').value;
    const confirmPassword = document.getElementById('register-confirm-password').value;
    const referralCode = document.getElementById('register-referral').value;
    const agreeTerms = document.getElementById('register-terms').checked;
    
    // Validate
    if (!agreeTerms) {
      alert('You must agree to the terms and conditions');
      return;
    }
    
    if (password !== confirmPassword) {
      alert('Passwords do not match');
      return;
    }
    
    const users = await DB.getUsers();
    
    if (users.some(u => u.username === username)) {
      alert('Username already taken');
      return;
    }
    
    if (users.some(u => u.email === email)) {
      alert('Email already registered');
      return;
    }
    
    // Find referrer
    let referred_by = null;
    if (referralCode) {
      const referrer = users.find(u => u.referral_code === referralCode);
      if (referrer) {
        referred_by = referrer.id;
      } else {
        alert('Invalid referral code');
        return;
      }
    }
    
    // Create user
    const newUser = {
      id: users.length > 0 ? Math.max(...users.map(u => u.id)) + 1 : 1,
      username,
      password,
      fullname,
      email,
      phone,
      address: '',
      balance: 0,
      profit: 0,
      referral_balance: 0,
      status: 'active',
      is_admin: false,
      referral_code: username.toUpperCase() + Math.floor(1000 + Math.random() * 900),
      referred_by,
      join_date: new Date().toISOString(),
      last_login: new Date().toISOString()
    };
    
    const updatedUsers = [...users, newUser];
    await DB.setUsers(updatedUsers);
    
    // Add referral bonus if applicable
    if (referred_by) {
      const referrer = updatedUsers.find(u => u.id === referred_by);
      const settings = await DB.getSettings();
      referrer.referral_balance += settings.referral_bonus;
      
      // Add transaction for referrer
      const transactions = await DB.getTransactions();
      const newTransaction = {
        id: transactions.length > 0 ? Math.max(...transactions.map(t => t.id)) + 1 : 1,
        user_id: referrer.id,
        type: 'referral',
        amount: settings.referral_bonus,
        description: `Referral bonus for ${username}`,
        status: 'completed',
        date: new Date().toISOString()
      };
      
      await DB.setTransactions([...transactions, newTransaction]);
      await DB.setUsers(updatedUsers);
    }
    
    alert('Registration successful! Please login.');
    document.getElementById('register-page').style.display = 'none';
    document.getElementById('login-page').style.display = 'flex';
    document.getElementById('register-form').reset();
  });

  // Logout functionality
  document.getElementById('logout-btn').addEventListener('click', (e) => {
    e.preventDefault();
    localStorage.removeItem('wealthgrow_current_user');
    currentUser = null;
    document.getElementById('app').style.display = 'none';
    document.getElementById('login-page').style.display = 'flex';
    document.getElementById('login-form').reset();
  });

  // Sidebar toggle
  document.getElementById('toggle-sidebar').addEventListener('click', () => {
    document.getElementById('sidebar').classList.toggle('hidden');
    document.getElementById('main-content').classList.toggle('expanded');
  });

  // User dropdown menu
  document.getElementById('user-btn').addEventListener('click', () => {
    document.getElementById('dropdown-menu').classList.toggle('show');
  });

  // Close dropdown when clicking outside
  document.addEventListener('click', (e) => {
    const userBtn = document.getElementById('user-btn');
    const dropdownMenu = document.getElementById('dropdown-menu');
    
    if (!userBtn.contains(e.target) && !dropdownMenu.contains(e.target)) {
      dropdownMenu.classList.remove('show');
    }
  });

  // Sidebar navigation
  document.querySelectorAll('.sidebar-menu a').forEach(link => {
    link.addEventListener('click', (e) => {
      e.preventDefault();
      const href = link.getAttribute('href').substring(1);
      showPage(href);
      
      // Update active menu item
      document.querySelectorAll('.sidebar-menu li').forEach(item => {
        item.classList.remove('active');
      });
      link.parentElement.classList.add('active');
      
      // Close dropdown if open
      document.getElementById('dropdown-menu').classList.remove('show');
    });
  });

  // Confirmation modal
  document.getElementById('close-confirm-modal').addEventListener('click', () => {
    document.getElementById('confirm-modal').classList.remove('show');
  });

  document.getElementById('cancel-confirm').addEventListener('click', () => {
    document.getElementById('confirm-modal').classList.remove('show');
  });

  document.getElementById('confirm-action').addEventListener('click', () => {
    if (confirmCallback) {
      confirmCallback();
    }
    document.getElementById('confirm-modal').classList.remove('show');
  });

  // Screenshot modal
  document.getElementById('close-screenshot-modal').addEventListener('click', () => {
    document.getElementById('screenshot-modal').classList.remove('show');
  });

  // Backup and reset buttons
  document.getElementById('backup-btn')?.addEventListener('click', async () => {
    await DB.backup();
    alert('System backup created successfully');
    updateSettingsPage();
  });

  document.getElementById('reset-btn')?.addEventListener('click', () => {
    showConfirmation(
      'Reset System',
      'Are you sure you want to reset the system? This will delete all data and cannot be undone!',
      async () => {
        await DB.reset();
        alert('System has been reset to default settings');
        updateSettingsPage();
      }
    );
  });

  // Deposit form
  document.getElementById('deposit-form')?.addEventListener('submit', async (e) => {
    e.preventDefault();
    const amount = parseFloat(document.getElementById('deposit-amount').value);
    const method = document.getElementById('deposit-method').value;
    const phone = document.getElementById('deposit-phone').value;
    const transaction_id = document.getElementById('deposit-transaction-id').value;
    const screenshot = document.getElementById('deposit-screenshot').files[0];
    const settings = await DB.getSettings();
    
    if (amount < settings.min_deposit) {
      alert(`Minimum deposit amount is ${settings.min_deposit} ${settings.currency}`);
      return;
    }
    
    if (!screenshot) {
      alert('Please upload payment screenshot');
      return;
    }
    
    // Convert image to base64 for storage
    const reader = new FileReader();
    reader.onload = async function(event) {
      const screenshotData = event.target.result;
      
      // Create deposit request
      const deposits = await DB.getDeposits();
      const newDeposit = {
        id: deposits.length > 0 ? Math.max(...deposits.map(d => d.id)) + 1 : 1,
        user_id: currentUser.id,
        amount,
        method,
        phone,
        transaction_id,
        screenshot: screenshotData,
        status: 'pending',
        date: new Date().toISOString()
      };
      
      await DB.setDeposits([...deposits, newDeposit]);
      
      // Add transaction
      const transactions = await DB.getTransactions();
      const newTransaction = {
        id: transactions.length > 0 ? Math.max(...transactions.map(t => t.id)) + 1 : 1,
        user_id: currentUser.id,
        type: 'deposit',
        amount,
        description: `Deposit via ${method}`,
        status: 'pending',
        date: new Date().toISOString()
      };
      
      await DB.setTransactions([...transactions, newTransaction]);
      
      alert('Deposit request submitted successfully. Please wait for admin confirmation.');
      document.getElementById('deposit-form').reset();
      updateDepositPage();
    };
    reader.readAsDataURL(screenshot);
  });

  // Withdraw form
  document.getElementById('withdraw-form')?.addEventListener('submit', async (e) => {
    e.preventDefault();
    const amount = parseFloat(document.getElementById('withdraw-amount').value);
    const method = document.getElementById('withdraw-method').value;
    const phone = document.getElementById('withdraw-phone').value;
    const account_name = document.getElementById('withdraw-account-name').value;
    const settings = await DB.getSettings();
    
    if (amount < settings.min_withdraw) {
      alert(`Minimum withdrawal amount is ${settings.min_withdraw} ${settings.currency}`);
      return;
    }
    
    const fee = amount * (settings.withdraw_fee / 100);
    const total = amount + fee;
    
    if (currentUser.balance < total) {
      alert('Insufficient balance for withdrawal');
      return;
    }
    
    // Create withdrawal request
    const withdrawals = await DB.getWithdrawals();
    const newWithdrawal = {
      id: withdrawals.length > 0 ? Math.max(...withdrawals.map(w => w.id)) + 1 : 1,
      user_id: currentUser.id,
      amount,
      fee,
      method,
      phone,
      account_name,
      status: 'pending',
      date: new Date().toISOString()
    };
    
    await DB.setWithdrawals([...withdrawals, newWithdrawal]);
    
    // Deduct from balance (will be reversed if rejected)
    const users = await DB.getUsers();
    const updatedUsers = users.map(u => {
      if (u.id === currentUser.id) {
        return { ...u, balance: u.balance - total };
      }
      return u;
    });
    await DB.setUsers(updatedUsers);
    currentUser = updatedUsers.find(u => u.id === currentUser.id);
    
    // Add transaction
    const transactions = await DB.getTransactions();
    const newTransaction = {
      id: transactions.length > 0 ? Math.max(...transactions.map(t => t.id)) + 1 : 1,
      user_id: currentUser.id,
      type: 'withdrawal',
      amount: -amount,
      description: `Withdrawal request via ${method}`,
      status: 'pending',
      date: new Date().toISOString()
    };
    
    await DB.setTransactions([...transactions, newTransaction]);
    
    alert('Withdrawal request submitted successfully. Please wait for admin processing.');
    document.getElementById('withdraw-form').reset();
    updateWithdrawPage();
    updateDashboard();
  });

  // Profile form
  document.getElementById('profile-form')?.addEventListener('submit', async (e) => {
    e.preventDefault();
    const fullname = document.getElementById('profile-fullname').value;
    const email = document.getElementById('profile-email').value;
    const phone = document.getElementById('profile-phone').value;
    const address = document.getElementById('profile-address').value;
    
    const users = await DB.getUsers();
    
    // Check if email is already taken by another user
    if (users.some(u => u.email === email && u.id !== currentUser.id)) {
      alert('Email already registered by another user');
      return;
    }
    
    const updatedUsers = users.map(u => {
      if (u.id === currentUser.id) {
        return {
          ...u,
          fullname,
          email,
          phone,
          address
        };
      }
      return u;
    });
    
    await DB.setUsers(updatedUsers);
    currentUser = updatedUsers.find(u => u.id === currentUser.id);
    
    alert('Profile updated successfully');
    updateProfilePage();
  });

  // Password form
  document.getElementById('password-form')?.addEventListener('submit', async (e) => {
    e.preventDefault();
    const currentPassword = document.getElementById('current-password').value;
    const newPassword = document.getElementById('new-password').value;
    const confirmPassword = document.getElementById('confirm-password').value;
    
    if (currentPassword !== currentUser.password) {
      alert('Current password is incorrect');
      return;
    }
    
    if (newPassword !== confirmPassword) {
      alert('New passwords do not match');
      return;
    }
    
    const users = await DB.getUsers();
    const updatedUsers = users.map(u => {
      if (u.id === currentUser.id) {
        return { ...u, password: newPassword };
      }
      return u;
    });
    
    await DB.setUsers(updatedUsers);
    currentUser = updatedUsers.find(u => u.id === currentUser.id);
    
    alert('Password changed successfully');
    document.getElementById('password-form').reset();
  });

  // Investment modal
  document.getElementById('close-investment-modal')?.addEventListener('click', () => {
    document.getElementById('investment-modal').classList.remove('show');
  });

  // Investment form
  document.getElementById('investment-form')?.addEventListener('submit', async (e) => {
    e.preventDefault();
    const planId = parseInt(document.getElementById('investment-form').getAttribute('data-plan-id'));
    const plans = await DB.getInvestmentPlans();
    const plan = plans.find(p => p.id === planId);
    const amount = parseFloat(document.getElementById('investment-amount').value);
    const wallet = document.getElementById('investment-wallet').value;
    const settings = await DB.getSettings();
    
    // Validate amount
    if (amount < plan.min_amount) {
      alert(`Minimum investment for this plan is ${plan.min_amount} ${settings.currency}`);
      return;
    }
    
    if (plan.max_amount && amount > plan.max_amount) {
      alert(`Maximum investment for this plan is ${plan.max_amount} ${settings.currency}`);
      return;
    }
    
    // Check balance
    let balance = 0;
    if (wallet === 'balance') {
      balance = currentUser.balance;
    } else if (wallet === 'profit') {
      balance = currentUser.profit;
    }
    
    if (balance < amount) {
      alert(`Insufficient ${wallet} balance`);
      return;
    }
    
    // Update user balance
    const users = await DB.getUsers();
    const updatedUsers = users.map(u => {
      if (u.id === currentUser.id) {
        if (wallet === 'balance') {
          return { ...u, balance: u.balance - amount };
        } else {
          return { ...u, profit: u.profit - amount };
        }
      }
      return u;
    });
    
    await DB.setUsers(updatedUsers);
    currentUser = updatedUsers.find(u => u.id === currentUser.id);
    
    // Create investment
    const investments = await DB.getInvestments();
    const newInvestment = {
      id: investments.length > 0 ? Math.max(...investments.map(i => i.id)) + 1 : 1,
      user_id: currentUser.id,
      plan_id: planId,
      amount,
      start_date: new Date().toISOString(),
      status: 'active'
    };
    
    await DB.setInvestments([...investments, newInvestment]);
    
    // Add transaction
    const transactions = await DB.getTransactions();
    const newTransaction = {
      id: transactions.length > 0 ? Math.max(...transactions.map(t => t.id)) + 1 : 1,
      user_id: currentUser.id,
      type: 'investment',
      amount: -amount,
      description: `Investment in ${plan.name}`,
      status: 'completed',
      date: new Date().toISOString()
    };
    
    await DB.setTransactions([...transactions, newTransaction]);
    
    alert('Investment created successfully');
    document.getElementById('investment-modal').classList.remove('show');
    document.getElementById('investment-form').reset();
    updateDashboard();
    updateInvestPage();
  });

  // Add plan form
  document.getElementById('add-plan-form')?.addEventListener('submit', async (e) => {
    e.preventDefault();
    const name = document.getElementById('plan-name').value;
    const min_amount = parseFloat(document.getElementById('plan-min').value);
    const max_amount = document.getElementById('plan-max').value ? parseFloat(document.getElementById('plan-max').value) : null;
    const duration = parseInt(document.getElementById('plan-duration').value);
    const daily_profit = parseFloat(document.getElementById('plan-profit').value);
    const description = document.getElementById('plan-description').value;
    
    const plans = await DB.getInvestmentPlans();
    const newPlan = {
      id: plans.length > 0 ? Math.max(...plans.map(p => p.id)) + 1 : 1,
      name,
      min_amount,
      max_amount,
      duration,
      daily_profit,
      description
    };
    
    await DB.setInvestmentPlans([...plans, newPlan]);
    alert('Investment plan added successfully');
    document.getElementById('add-plan-form').reset();
    updateInvestmentPlansPage();
  });

  // General settings form
  document.getElementById('general-settings-form')?.addEventListener('submit', async (e) => {
    e.preventDefault();
    const settings = {
      site_name: document.getElementById('site-name').value,
      currency: document.getElementById('site-currency').value,
      min_deposit: parseFloat(document.getElementById('min-deposit').value),
      min_withdraw: parseFloat(document.getElementById('min-withdraw').value),
      withdraw_fee: parseFloat(document.getElementById('withdraw-fee').value),
      referral_bonus: parseFloat(document.getElementById('referral-bonus').value),
      last_backup: (await DB.getSettings()).last_backup
    };
    
    await DB.setSettings(settings);
    alert('Settings saved successfully');
  });

  // Bank settings form
  document.getElementById('bank-settings-form')?.addEventListener('submit', async (e) => {
    e.preventDefault();
    const bankDetails = {
      bank_name: document.getElementById('bank-name').value,
      account_name: document.getElementById('account-name').value,
      account_number: document.getElementById('account-number').value,
      telebirr_number: document.getElementById('telebirr-number').value
    };
    
    await DB.setBankDetails(bankDetails);
    alert('Bank details saved successfully');
  });
}

// Show page function
async function showPage(page) {
  // Hide all pages
  const pages = {
    dashboard: document.getElementById('dashboard-page'),
    deposit: document.getElementById('deposit-page'),
    withdraw: document.getElementById('withdraw-page'),
    invest: document.getElementById('invest-page'),
    transactions: document.getElementById('transactions-page'),
    referrals: document.getElementById('referrals-page'),
    profile: document.getElementById('profile-page'),
    adminDashboard: document.getElementById('admin-dashboard-page'),
    users: document.getElementById('users-page'),
    deposits: document.getElementById('deposits-page'),
    withdrawals: document.getElementById('withdrawals-page'),
    investmentPlans: document.getElementById('investment-plans-page'),
    settings: document.getElementById('settings-page')
  };
  
  Object.values(pages).forEach(p => {
    if (p) p.style.display = 'none';
  });
  
  // Show requested page
  let pageElement;
  switch (page) {
    case 'dashboard':
      pageElement = pages.dashboard;
      document.getElementById('page-title').textContent = 'Dashboard';
      await updateDashboard();
      break;
    case 'deposit':
      pageElement = pages.deposit;
      document.getElementById('page-title').textContent = 'Deposit Funds';
      await updateDepositPage();
      break;
    case 'withdraw':
      pageElement = pages.withdraw;
      document.getElementById('page-title').textContent = 'Withdraw Funds';
      await updateWithdrawPage();
      break;
    case 'invest':
      pageElement = pages.invest;
      document.getElementById('page-title').textContent = 'Investment Plans';
      await updateInvestPage();
      break;
    case 'transactions':
      pageElement = pages.transactions;
      document.getElementById('page-title').textContent = 'Transaction History';
      await updateTransactionsPage();
      break;
    case 'referrals':
      pageElement = pages.referrals;
      document.getElementById('page-title').textContent = 'Referral Program';
      await updateReferralsPage();
      break;
    case 'profile':
      pageElement = pages.profile;
      document.getElementById('page-title').textContent = 'Profile Settings';
      await updateProfilePage();
      break;
    case 'admin-dashboard':
      pageElement = pages.adminDashboard;
      document.getElementById('page-title').textContent = 'Admin Dashboard';
      await updateAdminDashboard();
      break;
    case 'users':
      pageElement = pages.users;
      document.getElementById('page-title').textContent = 'Manage Users';
      await updateUsersPage();
      break;
    case 'deposits':
      pageElement = pages.deposits;
      document.getElementById('page-title').textContent = 'Deposit Requests';
      await updateDepositsPage();
      break;
    case 'withdrawals':
      pageElement = pages.withdrawals;
      document.getElementById('page-title').textContent = 'Withdrawal Requests';
      await updateWithdrawalsPage();
      break;
    case 'investment-plans':
      pageElement = pages.investmentPlans;
      document.getElementById('page-title').textContent = 'Investment Plans';
      await updateInvestmentPlansPage();
      break;
    case 'settings':
      pageElement = pages.settings;
      document.getElementById('page-title').textContent = 'System Settings';
      await updateSettingsPage();
      break;
    default:
      pageElement = currentUser?.is_admin ? pages.adminDashboard : pages.dashboard;
      document.getElementById('page-title').textContent = currentUser?.is_admin ? 'Admin Dashboard' : 'Dashboard';
      if (currentUser?.is_admin) {
        await updateAdminDashboard();
      } else {
        await updateDashboard();
      }
  }
  
  if (pageElement) {
    pageElement.style.display = 'block';
  }
}

// Show confirmation modal
function showConfirmation(title, message, callback) {
  document.getElementById('confirm-modal-title').textContent = title;
  document.getElementById('confirm-message').textContent = message;
  confirmCallback = callback;
  document.getElementById('confirm-modal').classList.add('show');
}

// Show screenshot modal
function showScreenshot(imageSrc) {
  document.getElementById('screenshot-image').src = imageSrc;
  document.getElementById('screenshot-modal').classList.add('show');
}

// Helper functions
function formatDate(dateString) {
  if (!dateString) return 'N/A';
  const date = new Date(dateString);
  return date.toLocaleDateString() + ' ' + date.toLocaleTimeString();
}

function getStatusBadge(status) {
  switch (status) {
    case 'active':
    case 'completed':
      return `<span class="badge badge-success">${status}</span>`;
    case 'pending':
      return `<span class="badge badge-warning">${status}</span>`;
    case 'blocked':
    case 'rejected':
      return `<span class="badge badge-danger">${status}</span>`;
    default:
      return `<span class="badge badge-secondary">${status}</span>`;
  }
}

// Page update functions (similar to your existing ones, but made async)
async function updateDashboard() {
  if (!currentUser) return;
  
  const settings = await DB.getSettings();
  const investments = await DB.getInvestments();
  const transactions = await DB.getTransactions();
  const users = await DB.getUsers();
  
  // Update stats
  document.getElementById('balance-amount').textContent = currentUser.balance.toFixed(2) + ' ' + settings.currency;
  document.getElementById('total-profit').textContent = currentUser.profit.toFixed(2) + ' ' + settings.currency;
  
  // Active investments
  const userInvestments = investments.filter(i => i.user_id === currentUser.id && i.status === 'active');
  document.getElementById('active-investments').textContent = userInvestments.length;
  
  // Referrals
  const userReferrals = users.filter(u => u.referred_by === currentUser.id);
  document.getElementById('total-referrals').textContent = userReferrals.length;
  
  // Recent transactions
  const recentTransactions = transactions
    .filter(t => t.user_id === currentUser.id)
    .sort((a, b) => new Date(b.date) - new Date(a.date))
    .slice(0, 5);
  
  const transactionsTable = document.getElementById('recent-transactions');
  transactionsTable.innerHTML = '';
  
  recentTransactions.forEach(t => {
    const row = document.createElement('tr');
    row.innerHTML = `
      <td>${formatDate(t.date)}</td>
      <td>${t.type}</td>
      <td>${t.amount >= 0 ? '+' : ''}${t.amount.toFixed(2)} ${settings.currency}</td>
      <td>${getStatusBadge(t.status)}</td>
    `;
    transactionsTable.appendChild(row);
  });
  
  // Active investments table
  const investmentsTable = document.getElementById('active-investments-table');
  investmentsTable.innerHTML = '';
  
  const plans = await DB.getInvestmentPlans();
  
  userInvestments.forEach(i => {
    const plan = plans.find(p => p.id === i.plan_id);
    const endDate = new Date(i.start_date);
    endDate.setDate(endDate.getDate() + plan.duration);
    
    const row = document.createElement('tr');
    row.innerHTML = `
      <td>${plan.name}</td>
      <td>${i.amount.toFixed(2)} ${settings.currency}</td>
      <td>${(i.amount * (plan.daily_profit / 100)).toFixed(2)} ${settings.currency}/day</td>
      <td>${formatDate(i.start_date)}</td>
      <td>${formatDate(endDate)}</td>
      <td>${getStatusBadge(i.status)}</td>
    `;
    investmentsTable.appendChild(row);
  });
}

// Other page update functions (deposit, withdraw, invest, etc.) would follow similar patterns
// They should be made async and use await with DB methods
// I've included the pattern above - the rest would follow the same approach
    </script>
</body>
</html>
